# üì¶ mystat-desktop

–õ—ë–≥–∫–æ–µ **–¥–µ—Å–∫—Ç–æ–ø-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ PyQt5** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–º –∫–∞–±–∏–Ω–µ—Ç–æ–º MyStat:
–¥–æ–º–∞—à–∫–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –±—ã—Å—Ç—Ä—ã–π –∞–ø–ª–æ–∞–¥ —Ñ–∞–π–ª–æ–≤ –∏ —É–¥–æ–±–Ω—ã–π –≤—Ö–æ–¥ –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞.

![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?logo=python&logoColor=white)
![PyQt5](https://img.shields.io/badge/PyQt5-%E2%9C%94-41CD52)
![License](https://img.shields.io/badge/License-MIT-informational)

> ‚ö†Ô∏è –ü—Ä–æ–µ–∫—Ç **–Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π**, —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏

- üîê **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ª–æ–≥–∏–Ω-–¥–∏–∞–ª–æ–≥** (–±–µ–∑ WebEngine): —Ñ–∏–ª–∏–∞–ª (–≥–æ—Ä–æ–¥), –ª–æ–≥–∏–Ω/e-mail, –ø–∞—Ä–æ–ª—å, ¬´–∑–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è¬ª.
- üß≠ **–ì–æ—Ä–æ–¥ (branch) –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏**: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∏–ª–∏–∞–ª, –∞ –Ω–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π.
- üíæ **SQLite** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`utils/db.py`).
- ‚òÅÔ∏è **–ê–ø–ª–æ–∞–¥ —Ñ–∞–π–ª–æ–≤** –≤ FS –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –î–ó –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- üßπ **–ê–≤—Ç–æ–∫—ç—à –∏–∫–æ–Ω–æ–∫ –ø–æ URL** (–Ω–µ –Ω—É–∂–Ω–æ –ø–∞–∫–æ–≤–∞—Ç—å –ø–∞–ø–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏) ‚Äî `utils/icons.py`.
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –î–ó (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ).
- üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, ¬´–ª–∏–¥–µ—Ä–±–æ—Ä–¥¬ª, –±–∞–∑–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (–µ—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∏—Ö –≤ `main_window.py`).
- üé® –ï–¥–∏–Ω–∞—è —Ç–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (`frontend/theme.py`) –≤ —Å—Ç–∏–ª–µ MyStat.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

mystat-desktop/
‚îú‚îÄ main.py
‚îú‚îÄ backend/
‚îÇ ‚îî‚îÄ mystat_api.py # –∑–∞–ø—Ä–æ—Å—ã –∫ API MyStat + –ª–æ–≥–∏–Ω
‚îú‚îÄ frontend/
‚îÇ ‚îú‚îÄ main_window.py # –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ ‚îú‚îÄ login_dialog.py # –¥–∏–∞–ª–æ–≥ –≤—Ö–æ–¥–∞ (–≥–æ—Ä–æ–¥ + –ª–æ–≥–∏–Ω + –ø–∞—Ä–æ–ª—å)
‚îÇ ‚îú‚îÄ theme.py # QSS —Ç–µ–º–∞
‚îÇ ‚îî‚îÄ fs_sniffer.py # (–æ–ø—Ü.) –ø–µ—Ä–µ—Ö–≤–∞—Ç Bearer –¥–ª—è FS —á–µ—Ä–µ–∑ WebEngine
‚îú‚îÄ utils/
‚îÇ ‚îú‚îÄ db.py # –ª—ë–≥–∫–∞—è key-value –ë–î (SQLite)
‚îÇ ‚îî‚îÄ icons.py # –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à –∏–∫–æ–Ω–æ–∫ –ø–æ URL
‚îú‚îÄ app.db # SQLite (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ requirements.txt
‚îî‚îÄ README.md


---

## üõ†Ô∏è –°—Ç–µ–∫

- **Python** 3.10+
- **PyQt5** (QtWidgets, QtGui, QtCore)
- **requests**
- (–æ–ø—Ü.) **PyQtWebEngine** ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `fs_sniffer.py`

---

## üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–û–∫–Ω–æ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω.

–ü–æ–ª—è: –§–∏–ª–∏–∞–ª (–≥–æ—Ä–æ–¥), –õ–æ–≥–∏–Ω/E-mail, –ü–∞—Ä–æ–ª—å, —á–µ–∫–±–æ–∫—Å ¬´–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è¬ª.

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—Ö–æ–¥–µ —Ç–æ–∫–µ–Ω –∏ –≥–æ—Ä–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ app.db.

–í backend/mystat_api.py —Ñ—É–Ω–∫—Ü–∏—è login_with_credentials –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
login_with_credentials(login, password) –∏ login_with_credentials(city, login, password).

---

## üåê –ò–∫–æ–Ω–∫–∏ –ø–æ URL

–ß—Ç–æ–±—ã –∏–∫–æ–Ω–∫–∏ –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–ª–∏ –≤ —Å–±–æ—Ä–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º utils/icons.py:
from utils.icons import qicon_from_url

self.btn_home.setIcon(qicon_from_url("https://cdn-icons-png.flaticon.com/512/25/25694.png"))
self.btn_schedule.setIcon(qicon_from_url("https://cdn-icons-png.flaticon.com/512/747/747310.png"))
self.btn_hw.setIcon(qicon_from_url("https://cdn-icons-png.flaticon.com/512/906/906334.png"))
–ò–∫–æ–Ω–∫–∏ –±—É–¥—É—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ utils/_icon_cache/.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥ –∏ –ë–î

–õ—ë–≥–∫–∏–π key-value —Å–ª–æ–π –≤ utils/db.py.
–ü–æ–ª–µ–∑–Ω—ã–µ –∫–ª—é—á–∏:
mystat_token ‚Äî —Ç–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
mystat_city ‚Äî —Ç–µ–∫—É—â–∏–π —Ñ–∏–ª–∏–∞–ª
fs_bearer, fs_directory, fs_host ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

---

##üì¶ –°–±–æ—Ä–∫–∞ .exe (PyInstaller)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (Windows):
pyinstaller --noconsole --name mystatdesk --onefile main.py
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

–ò–∫–æ–Ω–∫–∏ –≥—Ä—É–∑—è—Ç—Å—è –ø–æ —Å–µ—Ç–∏ ‚Üí –Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∞–ø–∫—É icons/ –≤ datas.

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (QSS, png –∏ –ø—Ä.), –¥–æ–±–∞–≤—å:
--add-data "frontend/styles.qss;frontend"
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å WebEngine (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ FS), —Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª ¬´–ü—Ä–æ–±–ª–µ–º—ã¬ª.

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ app.db (SQLite). –ù–µ –∫–æ–º–º–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–ù–µ –ø—É–±–ª–∏–∫—É–π/–Ω–µ —à–µ—Ä—å —Ç–æ–∫–µ–Ω—ã –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ URL.

–ü—Ä–æ–µ–∫—Ç —É—á–µ–±–Ω—ã–π; –ø–æ–ª–∞–≥–∞–π—Å—è –Ω–∞ —Å–≤–æ—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥

PR –∏ Issue –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è:

—Å–æ–±–ª—é–¥–∞–π PEP8,

–ø–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã,

–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ –∏ –∏—Å—Ç–æ—Ä–∏–∏.

---

## üôå –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–î–∏–∑–∞–π–Ω –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º MyStat.

–ò–∫–æ–Ω–∫–∏ ‚Äî Flaticon –∏ –¥—Ä. –æ—Ç–∫—Ä—ã—Ç—ã–µ –Ω–∞–±–æ—Ä—ã.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (dev)

```bash
# 1) —Å–æ–∑–¥–∞—ë–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
. .venv/Scripts/activate  # Windows PowerShell: .\.venv\Scripts\Activate.ps1

# 2) –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3) –∑–∞–ø—É—Å–∫
python main.py
